"use client"
import { Inter } from "next/font/google";
import "./globals.css";
import "../public/icons/fontawesome.css"
import HeadMetaData from "@/components/HeadMetaData";
import CustomLayout from "@/components/CustomLayout";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { ReactQueryDevtools } from "@tanstack/react-query-devtools";
import { createContext, useState } from "react";

const inter = Inter({ subsets: ["latin"] });
// export const metadata = {
//   title: 'Create Next App',
//   description: 'Generated by create next app',
// }

const queryClient = new QueryClient();

export const ContextCheckApi = createContext()

export default function RootLayout({ children }) 
{
  const [metaDataToDisplay, setMetaDataToDisplay] = useState({
    title: "Your Brand Info",
    contentData: "Dev lapd food website",
    iconImage: "favicon.ico",
    singleItemsDetails: {
      title: "",
      description: "",
      itemImage: "",
      keywords: "",
      url: ""
    }
  });
  
  return (
    <ContextCheckApi.Provider value={{ setMetaDataToDisplay}}>
      <html lang="en">
        <HeadMetaData 
          title={metaDataToDisplay?.title}
          content={metaDataToDisplay?.contentData}
          iconImage={metaDataToDisplay?.iconImage}
          singleItemsDetails={metaDataToDisplay?.singleItemsDetails}
        />
        <body className="body-tag">
          <div>
            <QueryClientProvider client={queryClient}>
              <CustomLayout {...{children}}/>
              <ReactQueryDevtools />
            </QueryClientProvider>
          </div>
        </body>
      </html>
    </ContextCheckApi.Provider>
  );
}
